import{r as s,D as y}from"./iframe-NXvRQG3e.js";import{v as D}from"./v4-C6aID195.js";const a=(e,t)=>{if(e===t)return!0;if(typeof e!="object"||typeof t!="object"||e===null||t===null)return!1;const n=Object.keys(e),c=Object.keys(t);if(n.length!==c.length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!a(e[r],t[r]))return!1;return!0},k=e=>{const t=s.useRef(e);return a(e,t.current)||(t.current=e),t.current},g=()=>{const e=s.useContext(y);if(!e)throw new Error("useDialogs must be used within an ProviderDialog");return e},x=e=>{const{add:t,remove:n,update:c,dialogHistory:r}=g(),[o,l]=s.useState(null),d=s.useCallback(i=>{const m=r.find(u=>u.id===i.id);if(!o||!m){const u=i.id||D();l(u),t({...i,props:e,id:u})}},[t,r,o,e]),p=s.useCallback(()=>{o&&(n(o),l(null))},[o,n]),f=k(e);return s.useEffect(()=>{o&&c({id:o,props:f})},[o,f,c]),{add:d,remove:p,id:o}};export{k as a,x as u};
